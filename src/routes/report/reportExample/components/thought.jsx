const thought = {
    "CHT": [
        { "userImg": "1", "code": "CHT", "userName": "小安他爸爸", "isNew": "是", "submitTime": "2020-3-22", "content": "服务真的超级棒，害怕孩子长不高的家长可以下单了。而且发货，返货都是免费发顺丰，超级快。" },
        { "userImg": "2", "code": "CHT", "userName": "新人安安", "isNew": "否", "submitTime": "2020-3-2", "content": "非常时期物流照样快，出结果也挺快，查报告方便，非常满意。" },
        { "userImg": "3", "code": "CHT", "userName": "若风", "isNew": "是", "submitTime": "2019-9-3", "content": "测完才知道我们家小孩钙需求特别高，问了专家明确了应该如何补充，非常感谢。" }

    ],
    "ACSA": [
        { "userImg": "4", "code": "ACSA", "userName": "Z小小3", "isNew": "是", "submitTime": "2019-12-15", "content": "大几千化妆品都买了。为了以后不花冤枉钱，还是买了一个这个检测一下。科学到了一定深度也是一门学问。希望不要再踩雷不合适自己的护肤品了。" },
        { "userImg": "5", "code": "ACSA", "userName": "倪佳佳", "isNew": "是", "submitTime": "2019-7-5", "content": "真的超值呀～包装很好，回寄也很方便！出的报告有总体解读比较通俗易懂，也有具体的基因分析虽然我看不懂但是觉得很厉害的样子！另外还有专家建议还蛮贴心的～" },
        { "userImg": "6", "code": "ACSA", "userName": "水木年华", "isNew": "否", "submitTime": "2019-8-23", "content": "物流超级快，一下单就收到发货短信了，太赞了！这次买的肌秘是直接转解锁的报告，不用再回寄样本，第二天就收到报告并且刮出猫超卡了，哈哈。" }

    ],
    "ACDA": [
        { "userImg": "7", "code": "ACDA", "userName": "一片竹山", "isNew": "是", "submitTime": "2020-3-19", "content": "每周都会锻炼，还是瘦不下来！感觉自己喝水都会胖，测了这个，结果显示我运动对体重的影响小，终于找到原因了！" },
        { "userImg": "8", "code": "ACDA", "userName": "Jeyy", "isNew": "是", "submitTime": "2019-11-29", "content": "包装很精致啊，使用说明详细，使用操作简单，很快也出了结果，支持支持！" },
        { "userImg": "9", "code": "ACDA", "userName": "杨家有女", "isNew": "否", "submitTime": "2019-12-3", "content": "第三次在这购买了，这次推荐我朋友购买。通过前两次的检测，发现还是要相信科学，报告上说的和我现在的状况差不多，挺准的！" }

    ],
    "ACPA": [
        { "userImg": "10", "code": "ACPA", "userName": "笑一笑十年少", "isNew": "是", "submitTime": "2019-7-4", "content": "孕前就担心自己会长妊娠纹，因为我妈在怀孕的时候也长了。于是买了这个产品测一测，果然显示我妊娠纹风险高，还好有专家指导我怎么做，孕期到现在也长妊娠纹，很赞！" },
        { "userImg": "11", "code": "ACPA", "userName": "ZZH1410", "isNew": "否", "submitTime": "2020-3-10", "content": "上次自己买了测了下，感觉还是挺准的，也让我更加熟悉了自己身体，这次给老婆买了这个孕期产品，让她也测一下。" },
        { "userImg": "12", "code": "ACPC", "userName": "天空D星星", "isNew": "是", "submitTime": "2020-2-2", "content": "担心老婆身体，给老婆买的。到货很快，按要求操作，很简单，一键寄回，超方便。" }

    ],
    "ACPB": [
        { "userImg": "10", "code": "ACPC", "userName": "笑一笑十年少", "isNew": "是", "submitTime": "2019-7-4", "content": "孕前就担心自己会长妊娠纹，因为我妈在怀孕的时候也长了。于是买了这个产品测一测，果然显示我妊娠纹风险高，还好有专家指导我怎么做，孕期到现在也长妊娠纹，很赞！" },
        { "userImg": "11", "code": "ACPC", "userName": "ZZH1410", "isNew": "否", "submitTime": "2020-3-10", "content": "上次自己买了测了下，感觉还是挺准的，也让我更加熟悉了自己身体，这次给老婆买了这个孕期产品，让她也测一下。" },
        { "userImg": "12", "code": "ACPC", "userName": "天空D星星", "isNew": "是", "submitTime": "2020-2-2", "content": "担心老婆身体，给老婆买的。到货很快，按要求操作，很简单，一键寄回，超方便。" }

    ],
    "LASB": [
        { "userImg": "13", "code": "LASB", "userName": "空空如也", "isNew": "是", "submitTime": "2019-10-30", "content": "产品包装高大上，操作也简单，大概花了2周时间出报告，报告详细，解释的也很清楚，上面显示我骨关节炎风险高，看来以后锻炼得买点好的防护装备了" },
        { "userImg": "14", "code": "LASB", "userName": "北方大胖子", "isNew": "是", "submitTime": "2019-11-26", "content": "检测可以提前预防可能的运动损伤，看了检测报告，自己没啥大问题，这下放心了。" },
        { "userImg": "15", "code": "LASB", "userName": "两朵花开", "isNew": "是", "submitTime": "2019-9-2", "content": "检测过程，没有想象中的那么麻烦，测得很准呀，接下来就是好好锻炼，规律自己的生活方式了。" }

    ],
    "MCDB": [
        { "userImg": "16", "code": "MCDB", "userName": "王者", "isNew": "是", "submitTime": "2020-3-2", "content": "包装高端大气上档次，测测这个也是更加了解自己的身体，测了放心些，比算命靠谱多了，哈哈哈。" },
        { "userImg": "17", "code": "MCDB", "userName": "嘻嘻不困", "isNew": "否", "submitTime": "2020-2-28", "content": "报告很真实，有几个关于健康缺陷的基因我觉得很不错。第一次寄过去说是DNA浓度不够，又给我免费寄了一份。" },
        { "userImg": "18", "code": "MCDB", "userName": "超越梦想", "isNew": "是", "submitTime": "2020-2-15", "content": "感觉某些同类公司，对待基因检测太娱乐化，这方面安我比较严谨，收到的报告也很解释很专业，很有品质，我很喜欢。" }

    ],
    "MCDA": [
        { "userImg": "19", "code": "MCDA", "userName": "海北", "isNew": "否", "submitTime": "2020-2-19", "content": "很不错，以前自己有买过，这次特地买了送给父母试试。" },
        { "userImg": "20", "code": "MCDA", "userName": "西红柿的番茄", "isNew": "是", "submitTime": "2020-3-1", "content": "到货速度很快，按照要求完成采集工作，回寄通过顺丰，很方便，对自己又加深了了解。" },
        { "userImg": "21", "code": "MCDA", "userName": "黎明", "isNew": "否", "submitTime": "2020-3-2", "content": "服务挺好，报告也挺细致，有很多健康相关的内容，对改善生活很有意义，慢性病这东西，还是早发现早预防的好。" }

    ],
    "MCDC": [
        { "userImg": "22", "code": "MCDC", "userName": "钱多得用不完", "isNew": "是", "submitTime": "2020-3-15", "content": "发货很快，包装完整无缺。看了很多介绍，还是选了安我，算是给自己来一次科学算命吧，哈哈。" },
        { "userImg": "23", "code": "MCDC", "userName": "说走就走", "isNew": "是", "submitTime": "2020-3-4", "content": "很专业的样子，刚回寄，还不知道结果怎么样，拭目以待吧，有点紧张……" },
        { "userImg": "24", "code": "MCDC", "userName": "WAVA", "isNew": "是", "submitTime": "2020-3-25", "content": "很有趣的检测，对于每个人都可以有更深入的了解，也能未雨绸缪，改变一些生活的健康观念。" }

    ],
    "CAS": [
        { "userImg": "25", "code": "CAS", "userName": "朱媛媛", "isNew": "否", "submitTime": "2020-3-20", "content": "我自己是过敏体质，所以想测测宝宝是不是也会有过敏，到时候注意一下，操作起来很简单，回寄也不收费，现在就等出报告啦。" },
        { "userImg": "26", "code": "CAS", "userName": "满眼都是你", "isNew": "是", "submitTime": "2019-7-10", "content": "太棒了！检测不到5分钟搞定，不需要抽血，感觉性价比超高的，孩子也很配合。结果也出来了，报告里有专家指导如何避免过敏原的，超棒！" },
        { "userImg": "27", "code": "CAS", "userName": "管理员来了", "isNew": "是", "submitTime": "2019-10-27", "content": "买来就是测孩子身体过敏情况的，防患于未然嘛，而且医生也说这个结果挺准的。" }

    ],
    "CNN": [
        { "userImg": "28", "code": "CNN", "userName": "神笔", "isNew": "是", "submitTime": "2019-11-29", "content": "检测真的会上瘾啊，哈哈。很想了解宝宝的身体状况，就不断给宝宝做检测。做这个能知道宝宝各类营养的吸收情况，不错不错。" },
        { "userImg": "29", "code": "CNN", "userName": "嘻哈龙仔", "isNew": "是", "submitTime": "2019-10-24", "content": "这个给宝宝检查用的，不用刺手指血，很方便啊，不知道大人能不能用。" },
        { "userImg": "30", "code": "CNN", "userName": "Lina", "isNew": "是", "submitTime": "2020-2-18", "content": "报告出得有点慢，要2周，不过还是挺靠谱的，报告很详细，实际操作起来很方便，可以针对性的给小孩增强营养。" }

    ],
    "KCEA": [
        { "userImg": "31", "code": "KCEA", "userName": "小可爱", "isNew": "否", "submitTime": "2019-12-3", "content": "小家伙上课总是注意力不集中，三分钟热度，就买了这个检测，还可以测好奇心、注意力，探索精神好多项目，让我更加了解小家伙，很棒！" },
        { "userImg": "32", "code": "KCEA", "userName": "夏沐瑾", "isNew": "是", "submitTime": "2019-7-11", "content": "第一次买这种高科技的东西，顺丰快递第一天就收到了，有详细说明，非常简单。报告里说，孩子注意力不集中倾向高，感觉很准啊，照着专家建议做，孩子现在学习状态好多了。" },
        { "userImg": "33", "code": "KCEA", "userName": "丑小鸭", "isNew": "是", "submitTime": "2019-12-10", "content": "安我的这个检测产品，采样绑定非常方便，还顺丰包邮。看了报告，以后指导孩子营养，不用摸瞎了。很棒！" }

    ],
    "MCDE": [
        { "userImg": "34", "code": "MCDE", "userName": "apple", "isNew": "否", "submitTime": "2020-3-1", "content": "之前自己买了一个，觉得很专业。现在给孩子也测一测，放心点，不过希望价格能再优惠一点。" },
        { "userImg": "35", "code": "MCDE", "userName": "勿忘初心", "isNew": "否", "submitTime": "2020-3-9", "content": "包装精美，操作说明易懂，还有操作视频，很贴心。" },
        { "userImg": "36", "code": "MCDE", "userName": "无处躲雨", "isNew": "否", "submitTime": "2020-3-19", "content": "报告里内容都出来了，挺多挺详细的，看了也放心，值得购买。" }

    ],
    "MCDD": [
        { "userImg": "37", "code": "MCDD", "userName": "清清", "isNew": "是", "submitTime": "2020-3-14", "content": "朋友推荐我测的基因，主要是担心孩子健康，想着测一下也好，还挺有意思的，物流很快，包装啥的都很仔细，就等出结果啦。" },
        { "userImg": "38", "code": "MCDD", "userName": "相忘江湖", "isNew": "是", "submitTime": "2020-2-26", "content": "这个挺好的，给孩子测一下有没有疾病隐患，图个安心。发货很快，顺丰包邮，这个要赞一下！" },
        { "userImg": "39", "code": "MCDD", "userName": "柠檬柠萌", "isNew": "否", "submitTime": "2020-3-5", "content": "从一开始的不相信，到将信将疑，现在我完全变成忠粉了，哈哈。之前买过享瘦的检测，觉得很准，靠谱，这次为孩子买的。" }

    ],
    "MCDF": [
        { "userImg": "40", "code": "MCDF", "userName": "一如既往", "isNew": "是", "submitTime": "2020-3-7", "content": "我是对基因检测疾病这方面比较感兴趣，所以看到了这个就果断给孩子买了。当然也不能过度担忧这些，活着么，开心就好哈哈。" },
        { "userImg": "41", "code": "MCDF", "userName": "肥蕉！", "isNew": "是", "submitTime": "2020-2-20", "content": "很方便啊，不用抽血，一点唾液就可以测基因，取样直接回寄不收费，期待结果中……" },
        { "userImg": "42", "code": "MCDF", "userName": "梁家小姑娘", "isNew": "是", "submitTime": "2020-3-19", "content": "我想着给孩子做一次检测，终生受用，不亏。以后也能提早预防，相信高科技！" }

    ]
}
import React, { Component, Fragment } from 'react'
import styles from './components.scss'
import msg from '@static/reportEg/msg.png'
import msg2 from '@static/reportEg/msg2.png'

import close from '@static/reportEg/close.png'
import close1 from '@static/reportEg/close1.png'
import QRcode from '@static/reportEg/QRcode.png'
import dna from '@static/reportEg/dna.png'
import wxQR from '@static/wxQR.png'
import images from '@src/common/utils/images'
import { ua } from '@src/common/app'
const { headImgReport } = images
import {
  sampleReportCommentView,
  sampleReportQrcodeView,
  sampleReportPageButtonGoto,
  backToSampleReportListGoto
} from '../BuriedPoint'

export default class Evaluate extends Component {
    constructor(props) {
        super(props)
        this.state = {
            data: [],
            showThought: false,
            showQR: false,
            imgArr: []
        }
    }
    componentDidMount() {
        const { code } = this.props
        // API.dialogueList({ code })
        //     .then(res => {
        //         // console.log(res);
        //         this.setState({
        //             data: res.data
        //         })
        //     })
        //     .catch(err => {
        this.setState({
            data: thought[code],
            imgArr: [Math.ceil(Math.random() * 44), Math.ceil(Math.random() * 44), Math.ceil(Math.random() * 44)]
        })
        // })
    }

    toggleShowThought = bool => {
        const { userName, code, page_code, noScroll } = this.props
        this.setState({
            showThought: bool
        })
        // 访问用户评价埋点
        if (bool) {
            sampleReportCommentView({
                sample_linkman: userName,
                relation_id: userName == "小小安" ? '3' : '1',
                report_code: code
            })
            sampleReportPageButtonGoto({
                Btn_name: 'comment',
                page_code,
                sample_linkman: userName,
                relation_id: userName == "小小安" ? '3' : '1',
                report_code: code
            })
            noScroll(true)
        } else {
            noScroll(false)
        }
    }
    toggleShowQR = bool => {
      const { userName, code, page_code } = this.props
      this.setState({
          showQR: bool
      })
      // 访问私人号二维码
      if (bool) {
          sampleReportQrcodeView()
          sampleReportPageButtonGoto({
              Btn_name: 'win_bonus',
              page_code,
              sample_linkman: userName,
              relation_id: userName == "小小安" ? '3' : '1',
              report_code: code
          })
      }
    }

  goIndex = () => {
    const { userName, code, page_code  } = this.props
    const params = {
      sample_linkman:userName,
      relation_id: userName == "小小安" ? '3' : '1',
      report_code:code,
      page_code
    }
    backToSampleReportListGoto(params)
    window.location.href = window.location.origin + `/mkt/reportExample?linkManId=${(userName === '小小安') ? 1347 : 2286223641214976}`
  }

    render() {
        const { data, showThought, showQR, imgArr } = this.state
        return (
            <Fragment>
                {/*<div className={styles.egFloat}*/}
                {/*    onClick={() => this.toggleShowThought(true)}>*/}
                {/*    <img src={msg} alt="" />*/}
                {/*    <p>用户评价</p>*/}
                {/*</div>*/}
                <div className={styles.egFloat2}
                     onClick={() => this.goIndex()}>
                  <img src={msg2} alt="" />
                  <p>更多报告</p>
                </div>
                {
                    showThought && <Fragment>
                        < section className={styles.egThought}>
                            <img src={close} alt=""
                                onClick={() => this.toggleShowThought(false)} />
                            {
                                data && data.map((item, index) => {
                                    return (
                                        <div className={styles.egComment} key={index}>
                                            <div>
                                                <div>
                                                    {/* <img src={item.userImg} alt="" /> */}
                                                    <img src={`./images/img/${item.userImg}.png`} alt="" />
                                                    <p>{item.userName}</p>
                                                    <p className={item.isNew == '是' ? styles.new : styles.old}>
                                                        {item.isNew == '是' ? '安我新人' : '安我铁粉'}
                                                    </p>
                                                </div>
                                                <p>{item.submitTime}</p>
                                            </div>
                                            <p>
                                                {item.content}
                                            </p>
                                        </div>
                                    )
                                })
                            }
                        </section>
                        <section className={styles.bottomBox}>
                            <div onClick={() => this.toggleShowQR(true)}>
                                <img src={QRcode} alt="" />
                                分享经历，领取福利！
                            </div>
                        </section>
                    </Fragment>
                }
                {
                    showQR && <section className={styles.QRcode}>
                        <div>
                            <div>
                                <div style={{ backgroundImage: `url(${dna})` }}>
                                    <p>加安迪姐分享你的经历，领取福利</p>
                                </div>
                            </div>
                            <div>
                                <img src="http://dnatime-prod.oss-cn-hangzhou.aliyuncs.com/misc/erweima.png" alt="" />
                                <div>{ua.isAndall() ? '微信扫码添加' : '微信扫码添加'}</div>
                            </div>
                        </div>
                        <img src={close1} alt=""
                            onClick={() => this.toggleShowQR(false)} />
                    </section>
                }
            </Fragment>

        )
    }
}
